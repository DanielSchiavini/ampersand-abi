% !TEX root = ../Parsing.tex

\section{The Ampersand Methodology}
\label{sec:AmpersandApproach}

\subsection{Software requirements, the problem statement}
\dict{Lexical analysis}{Separating text into tokens}%
\dict{Lexer}{Software that does the lexical analysis}%
\dict{Alex}{Lexer included in the Haskell Platform}%

In 1976,  T. E. Bell todo:cite4 investigated the domain of requirement engineering, todo:cite, sponsored by the Ballistic Missile Advanced Technology Center with the goal to determine the magnitude and characteristics of requirement related problems and to indicate what type of techniques could correct the issues. One of the main conclusions was that requirement errors were the most numerous and that these kind of errors are very time-consuming and hence costly to correct.
In his conclusion,  T. E. Bel advises to use methods and techniques during the requirement engineering process to ensure consistency within and  between the requirements, such as the unique naming of objects and correct relations between the requirements themselves, in addition, he stressed that the applied methods must aid the verification and validation of the requirements.
 
Although the research is ancient history from an IT point of view, the conclusion is actually very relevant and therefore methods and techniques to further improve the quality and consistency of the captured requirements are still a hot topic within the domain of Requirement Engineering.

An important distinction classification of requirements is made by  Prof.dr. Stef Joosten todo:cite1 and Alex Borgida todo:cite, into early phase requirements, the business requirements, and the late phase requirements, the functional specifications. 

\subsubsection{Formal functional specifications}
The initial focus, in which the research still continuous after 30 years, was on the functional specifications resulting in formal methods for functional specifications, (todo:cite 3) which are based on a mathematical representation of the specifications resulting in the ability to analyze, validate and transform them into useful artifacts during the subsequent design and implementation phases. 

As described by  Luqi todo:cite 10, these formal methods had a positve impact on the reliability of the software development process, specifically for the purpose of specification analysis, transformation and verification todo:cite 7, this  reflects  in the elaboration of several mature formal methods.
The formal methods are categorized into two domains:

\begin{description}
	\item[Algebraic languages] describing the system in terms of operations and their relationships, such as Z todo: cite 8, VDM todo: cite 11  and Alloy (url:alloy.mit.edu) todo: cite 12 todo: cite 17
	\item[Model based languages] using mathematical sets and sequences to to express the system specification as a system state model such as OBJ todo: cite 13, Larch todo: cite 14 and LOTOS todo: cite 15
	\item[Hybrid languages] combining features of both algebraic as model-based languages like RAISE todo: cite 16 and CafeOBJ, and enhancement of the OBJ language, todo: cite 17
\end{description}

\subsubsection{Business requirements}

Although the positive impact of the formal specification methods, it was recognized that these techniques were not sufficient. Concisely summarized by todo: cite 18, the formal specification methods focus on the `whats´ and the  `hows´ of the desired system without an understanding of the `whys´ behind them. 

Within the social environment in which a software systems will be introduced, several stakeholders have different goals, the business requirements, and based on these, they will express, often imprecise and inconsistent, expectations. Only by the correct capturing and understanding of the business requirements, to a feasible extend,the requirement engineers will truly understand the `whys´ needed to crystallize the correct  `whats´ and  `hows´ to support these different goals.

Several early phase requirement modeling languages, RMLs, are introduced and typically included, todo: cite 2, 
\begin{description}
	\item[An ontology of requirements] describing the needed information to capture and the desired properties and behavior of of the to-be system the view on the world from the perspective of the to-be system. This includes instances such as `Entity', `Activity' and `Assertion'. todo: cite 4
	\item[Modeling primitives] to model the concepts and the relations within the ontology.
	\item[Methods], sometimes automated, to verify consistency and to perform additional analysis to verify if the stated requirements will satisfy the business expectations.
\end{description}

Early RMLs such as RML, todo: cite 4; and ??? provided initial methods but suffered from drawbacks such as extensibility as the provided ontologies were rather fixed meaning that no new notions on par with the existing instances. CML todo: cite ??, which evolved to Telos todo: cite ??, contained already additional flexibility. 

KAOS introduced the notion of `stakeholder goal' where i* even differentiated between independent and interrelated, joint goals.
Further research to further introduce the concept of goal priorities is ongoing for which a new abstract requirements modeling language `Techne' todo: cite 2 is designed, based on the CORE ontology for requirements todo: cite ??. This will provide the framework for new RMLs which will be able to compare candidate solutions and their compliance towards the business requirements, a feature that will come in handy as many software engineering projects nowadays includes COTS package based solutions.

\subsubsection{Limitations and frequent issues}
Although the significant improvements and their positive impact in software engineering projects, several important drawbacks related to the use of formal methods are identified todo: cite 10, todo: cite 1:
\begin{description}
	\item[Communication] Communication between the business users and the requirements engineers based on the mathematical model is difficult as the business users are not used to use mathematical notations. Although the functional specifications are analysed to make sure they are consistent, it still offers no guarantee that the business requirements are consistent and tranfsormed correctly into functional specifications.
	\item[Typical experience and knowledge of developers] Software developers are not used to develop based on the mathematical models, or even lack the skills of higher mathematics. It requires extensive training for these developers to understand the mathematical models and to develop efficiently in these kind of software projects.
	\item[Theoretical approaches] Many formal methods are theoretica and thier appliance is demonstrated by means of very simplified example but when they are effectively used in practice, the gap between specification and effective coding appears to be problematic.
	\item[Supporting tools] Most formal methods don't have supporting tools making it very cumbersome to use them in larger scaled projects, even whem there are supporting tools available, they often lack a suitable user interfaces.
\end{description}


\subsection{The goals of the Ampersand Methodology}
   
The Ampersand Methodology was founded in 2007 by the inventor Prof.dr. Stef Joosten. 
Based on his professional experience and theoretical knowledge, Prof.dr. Stef Joosten has the vision to provide an answer to one of the main challenges in software engineering, specifically within the domain of requirements engineering: `how to verify that a functional specification satisfies the specified business requirements´. The Ampersand Methodology is the developed to achieve the actual vision behind the method:  Provide a method to unify the informal process of capturing the needs of users with the formal process of specifying an information system and to provide a formal translation method between both processes. \cite{Joosten_derivingfunctional}.

Bottom line, the methodology presents the means to structure business needs in such a way that they can both validated by the users as well as be unambiguously interpreted by the system engineers after a structured transformation into functional specifications.

The Ampersand Methodology addresses several goals which contribute to this vision todo: reference:
\begin{description}
	\item[Structure] A formal structure is key to achieve the vision of the Ampersand Methodology. The Ampersand Methodology must describe the transformation of the initial business rules towards consistent functional specifications. The requirements must be documented in natural language to enable users, without any requirement engineering knowledge, to validate the system requirements. On the other hand, the requirements must be structured in a formal as functional specifications to make them useful during the actual software development phase.
	\item[Completeness]A software system in which not all requirements are supported is useless. The Ampersand language bust be fully declarative, meaning that all the requirements must be supported to assure that all business requirements, relevant to the subsequent software system, are accommodated correctly in the system specification.
	\item[Consistency]One of the main goals of the Ampersand Methodology is to guarantee consistency, each specified requirement is therefore applicable to all processes in the context of this requirement. The methodology needs to provide the means to assure this consistency
	\item[Traceability] The requirements must be traceable 
	\item[User support] In order to facilitate the adoption of the Ampersand Methodology, Prof.dr. Stef Joosten defined the additional goal that the Ampersand Methodology must be accompanied with supporting tools to support the requirement engineers and this by creating design artifacts to be used by the software developers.
\end{description}


\subsection{The Ampersand approach and rules}
\dict{DSL}{Domain specific language}%
Several goals are defined in order achieve the vision of the Ampersand Methodology, this section elaborates on how each goal is realized and the specific rules how this is used in practice.




\subsubsection{Structure}

The foundation of the structure of the business requirements is to 



\subsubsection{Parser generators}

\subsubsection{Conclusion}
In the context of the new Ampersand parser, some advantages of building the parser in Haskell instead of using a generator, are:
\begin{description}
	\item[Flexibility] The programming language gives much more flexibility in coping with context-sensitive grammars.
	\item[Building] The process is simpler since it is unnecessary to run a separate program to generate the parser.
	\item[Language] Both the customer and the project members feel more comfortable working in Haskell than in an unknown DSL.
	\item[Errors] The main objective of the project is giving useful feedback in the new Ampersand parser, and this seems much easier to achieve with a handwritten parser.
\end{description}

\noindent

\noindent

\subsection{Conclusion}
The following differences have been found between the two considered libraries:

\end{description}
%
Considering these differences, a deeper analysis of error messages is given in the next section.
The actual advice on the library choice is delayed until \autoref{sec:conclusion}.
